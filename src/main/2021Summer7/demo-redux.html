<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://unpkg.com/redux@4.1.1/dist/redux.js"></script>
</head>
<body>
<h1>Redux Demo</h1>
<hr />
<h2></h2>
<button class="add">click me to add</button>
<button class="minus">click me to minus</button>
<script>
    // summary of Redux: store, action, dispatch
    // how to use redux
    // step1. create reducer
    // step2. create a store -- it only has one store!!
    // step3. render view
    // step4. subscribe/listen render view
    // step5. dispatch action


    // create reducer - predictable
    function reducer(state={a: 200, b: 300}, action) {
        if (action.type === "+") {
            return {
                a: state.a + 10
            }
        } else if (action.type === "-") {
            return {
                a: state.a - 10
            }
        }
        return state;
    }
    // create a store
    var store = Redux.createStore(reducer);

    // display data
    function render() {
        //ui <-> data
        var oH2 = document.getElementsByTagName('h2')[0];
        var data = store.getState().a;
        oH2.innerHTML = data;
    }

    render();
    store.subscribe(render);

    // bind action
    var oBtnAdd = document.getElementsByClassName('add')[0];
        oBtnMinus = document.getElementsByClassName('minus')[0];

    oBtnAdd.addEventListener('click', function() {
        store.dispatch({type: "+"});
    })


    oBtnMinus.addEventListener('click', function() {
        store.dispatch({type: "-"});
    })
    // dispatch action
</script>``     `


















































































































































































































































































































































































































































































































































































































































































</body>
</html>